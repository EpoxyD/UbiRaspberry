<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a responsive product landing page.">
    <title>Chick counter</title>
    
    <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/pure-min.css" integrity="sha384-" crossorigin="anonymous">
    
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/grids-responsive-min.css">
    <!--<![endif]-->
    
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="css/layouts/marketing-old-ie.css">
        <![endif]-->
        <!--[if gt IE 8]><!-->
            <link rel="stylesheet" href="css/layouts/marketing.css">
        <!--<![endif]-->

    <script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<body>
<div class="header">
    <div class="home-menu pure-menu pure-menu-horizontal pure-menu-fixed">
        <a class="pure-menu-heading" href="">Chick counter</a>
<!--
        <ul class="pure-menu-list">
            <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
                <a href="#" id="menuLink1" class="pure-menu-link"></a>
                <ul class="pure-menu-children">
                    <li class="pure-menu-item"><a href="#" class="pure-menu-link">Email</a></li>
                    <li class="pure-menu-item"><a href="#" class="pure-menu-link">Twitter</a></li>
                    <li class="pure-menu-item"><a href="#" class="pure-menu-link">Tumblr Blog</a></li>
                </ul>
            </li>
        </ul>
-->
    </div>
</div>

<div class="splash-container">
    <div class="splash">
        <h1 class="splash-head">Chicks inside: NaN</h1>
        <p class="splash-subhead">
            <i>Ain't Nobody Here But Us Chickens - Louis Jordan</i>

            <script>
                function play(){
                    var audio = document.getElementById("audio");
                    var icon = document.getElementById("play-button");

                    if (audio.getAttribute("playing") == "False") {
                        audio.play();
                        audio.setAttribute("playing", "True");

                        icon.className = "fa fa-pause";
                    }
                    else {
                        audio.pause();
                        audio.setAttribute("playing", "False");

                        icon.className = "fa fa-play";
                    }


                }
            </script>

            <button class="button-choose pure-button" onclick="play()"><i id="play-button" class="fa fa-play"></i></button>
            <audio playing="False" id="audio" src="audio/AintNobodyHereButUsChickens-LouisJordan.mp3" ></audio>
        </p>
    </div>
</div>

<div class="content-wrapper">
    <div class="content">
        <h2 class="content-head is-center">Your Chicks</h2>

        <div class="pure-g">

            <div class="pure-u-1 pure-u-md-1-4">
                <div class="pricing-table pricing-table-free">
                    <div class="pricing-table-header">
                        <img class="chick-img" src="img/chick_1.jpg">
                    </span>
                    </div>

                    <ul class="pricing-table-list">
                        <li><b>Chicken Little</b></li>
                        <li>Total eggs: ##</li>
                        <li>Age: ##</li>
                    </ul>

                    <button class="button-choose pure-button"><i class="fa fa-pencil"></i> Edit</button>
                </div>
            </div>

            <div class="pure-u-1 pure-u-md-1-4">
                <div class="pricing-table pricing-table-free">
                    <div class="pricing-table-header">
                        <img class="chick-img" src="img/chick_2.png">
                        </span>
                    </div>

                    <ul class="pricing-table-list">
                        <li><b>Marry Poopins</b></li>
                        <li>Total eggs: ##</li>
                        <li>Age: ##</li>
                    </ul>

                    <button class="button-choose pure-button"><i class="fa fa-pencil"></i> Edit</button>
                </div>
            </div>

            <div class="pure-u-1 pure-u-md-1-4">
                <div class="pricing-table pricing-table-free">
                    <div class="pricing-table-header">
                        <img class="chick-img" src="img/chick_3.jpg">
                        </span>
                    </div>

                    <ul class="pricing-table-list">
                        <li><b>Happy Feet</b></li>
                        <li>Total eggs: ##</li>
                        <li>Age: ##</li>
                    </ul>

                    <button class="button-choose pure-button"><i class="fa fa-pencil"></i> Edit</button>
                </div>
            </div>

            <div class="pure-u-1 pure-u-md-1-4">
                <div class="pricing-table pricing-table-free">
                    <div class="pricing-table-header">
                        <img class="chick-img" src="img/chick_4.jpg">
                        </span>
                    </div>

                    <ul class="pricing-table-list">
                        <li><b>Tom</b></li>
                        <li>Total eggs: ##</li>
                        <li>Age: ##</li>
                    </ul>

                    <button class="button-choose pure-button"><i class="fa fa-pencil"></i> Edit</button>
                </div>
            </div>


        </div>
    </div>

    <div class="ribbon l-box-lrg pure-g">
        <div id="day-night" class="l-box-lrg is-center pure-u-1 pure-u-md-1-2 pure-u-lg-2-5" style="margin-top: -4%">

        </div>

        <script>

            var svg = d3.select('#day-night').append('svg').attr('width', 422).attr('height', 200);

            svg.append("circle")
                .style("stroke", "white")
                .style("fill", "none")
                .attr("r", svg.attr('width') * 0.4)
                .attr("cx", svg.attr('width') * 0.5)
                .attr("cy", svg.attr('height'));

            var sun = svg.append('image')
                .attr('xlink:href', 'img/sun.png')
                .attr("width", 50)
                .attr("height", 50)
                .attr("x", 0)
                .attr("y", 0);

            var moon = svg.append('image')
                .attr('xlink:href', 'img/moon.png')
                .attr("width", 50)
                .attr("height", 50)
                .attr("x", 0)
                .attr("y", 0);


            var d = new Date(); // for now
            var hours = d.getHours();
            var sunrise = 7; //Time in hours
            var sunset = 21; //Time in hours

            if (hours <= sunset && hours >= sunrise) {
                //Sun is shining, move to appropriate position
                moon.attr('visibility', 'hidden');
                //get position in radians
                //half circle is devided in N pieces
                var dayHours = sunset - sunrise;
                var radians = Math.PI - (hours - sunrise)/dayHours * Math.PI; //Nr of radians to move to the right
                var x = Math.cos(radians) * svg.attr('width')* 0.4 + svg.attr('width') * 0.5;
                var y = svg.attr('height') - Math.sin(radians) * svg.attr('width') * 0.4;

                sun.attr("transform", "translate(" + (x - sun.attr('width')/2) + "," + (y - sun.attr('height')/2)+ ")");
                sun.attr('visibility', 'visible');
            }

            else {
                //Nighttime, move the moon to the appropriate position
                sun.attr('visibility', 'hidden');

                var nightHours = sunrise + (24 - sunset);
                if (hours <= 24 && hours >= sunset) {
                    hours = hours - sunset;
                }
                else {
                    hours = hours + (24 - sunset);
                    console.log(hours);
                }

                var radians = Math.PI - hours/nightHours * Math.PI; //Nr of radians to move to the right


                var x = Math.cos(radians) * svg.attr('width')* 0.4 + svg.attr('width') * 0.5;
                var y = svg.attr('height') - Math.sin(radians) * svg.attr('width') * 0.4;

                moon.attr("transform", "translate(" + (x - sun.attr('width')/2) + "," + (y - sun.attr('height')/2)+ ")");
                moon.attr('visibility', 'visible');
            }


        </script>

        <div class="pure-u-1 pure-u-md-1-2 pure-u-lg-3-5" style="text-align: center; margin-top: -3%">

            <h2 class="content-head content-head-ribbon">Chickens are brave till the foxes <br> come at night</h2>

            <div class="pure-u-1" id="clockdiv">
                <div class="pure-u-1-4">
                    <span class="hours"></span>
                    <div class="smalltext">Hours</div>
                </div>
                <div class="pure-u-1-4">
                    <span class="minutes"></span>
                    <div class="smalltext">Minutes</div>
                </div>
                <div class="pure-u-1-4">
                    <span class="seconds"></span>
                    <div class="smalltext">Seconds</div>
                </div>
            </div>

        </div>

        <script>
            function getTimeRemaining(endtime) {
                var t = Date.parse(endtime) - Date.parse(new Date());
                var seconds = Math.floor((t / 1000) % 60);
                var minutes = Math.floor((t / 1000 / 60) % 60);
                var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
                var days = Math.floor(t / (1000 * 60 * 60 * 24));
                console.log(endtime);
                return {
                    'total': t,
                    'days': days,
                    'hours': hours,
                    'minutes': minutes,
                    'seconds': seconds
                };
            }

            function initializeClock(id, endtime) {
                var clock = document.getElementById(id);
                var hoursSpan = clock.querySelector('.hours');
                var minutesSpan = clock.querySelector('.minutes');
                var secondsSpan = clock.querySelector('.seconds');

                function updateClock() {
                    var t = getTimeRemaining(endtime);

                    hoursSpan.innerHTML = ('0' + t.hours).slice(-2);
                    minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);
                    secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);

                    if (t.total <= 0) {
                        clearInterval(timeinterval);
                    }
                }

                updateClock();
                var timeinterval = setInterval(updateClock, 1000);
            }

            var now = new Date();
            var hours = now.getHours();
            var timeDiff = 0;
            if (hours < 24 && hours > sunset) {
                timeDiff += (60 - now.getSeconds()) * 1000; //seconds
                timeDiff += (59 - now.getMinutes()) * 60 * 1000; //minutes
                timeDiff += (23 - now.getHours() + sunrise) * 60 * 60 * 1000;//hours
            }
            else if(hours < sunrise) {
                timeDiff += (60 - now.getSeconds()) * 1000; //seconds
                timeDiff += (59 - now.getMinutes()) * 60 * 1000; //minutes
                timeDiff += (sunrise - 1 - now.getHours()) * 60 * 60 * 1000;
            }
            else if (hours >= sunrise && hours <= sunset) {
                timeDiff += (60 - now.getSeconds()) * 1000; //seconds
                timeDiff += (59 - now.getMinutes()) * 60 * 1000; //minutes
                timeDiff += (sunset - 1 - now.getHours()) * 60 * 60 * 1000;//hours
            }

            console.log(timeDiff);
            var deadline = new Date(Date.parse(new Date()) + timeDiff);
            initializeClock('clockdiv', deadline);
        </script>
    </div>

    <div class="content">
        <h2 class="content-head is-center">Recipe of the day</h2>

        <div class="pure-g">
            <div class="l-box-lrg pure-u-1 pure-u-md-2-5">
                <form class="pure-form pure-form-stacked">
                    <fieldset>

                        <label for="name">Your Name</label>
                        <input id="name" type="text" placeholder="Your Name">


                        <label for="email">Your Email</label>
                        <input id="email" type="email" placeholder="Your Email">

                        <label for="password">Your Password</label>
                        <input id="password" type="password" placeholder="Your Password">

                        <button type="submit" class="pure-button">Sign Up</button>
                    </fieldset>
                </form>
            </div>

            <div class="l-box-lrg pure-u-1 pure-u-md-3-5">
                <h4>Contact Us</h4>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                    consequat.
                </p>

                <h4>More Information</h4>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua.
                </p>
            </div>
        </div>
    </div>
</div>




</body>
</html>
